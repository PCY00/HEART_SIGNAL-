![image](https://github.com/user-attachments/assets/154f0dde-3122-48d8-b97f-604f4c33a794)![image](https://github.com/user-attachments/assets/e5d641df-13c3-4bb7-9f91-339e91505e42)# HeartSignal

## 언어 선택

[English](README.md) | [한국어](README_KR.md)

<br><br>

## 개요

### 문제 인식
- 웨이트 트레이닝 진행 시 세트 간의 휴식 시간을 가지게 되는데 휴식 시간이 적절하지 않으면 운동 효율이 떨어질 수 있음
- 사람마다 회복 속도가 다르기 때문에 통상적인 휴식 시간이 맞지 않을 수 있음
- 운동을 적절한 강도로 잘 하고 있는지, 어떤 식으로 운동을 해야 하는지 잘 모를 수 있음
- 따라서 개인에게 맞는 휴식 시간을 찾아주고 운동을 적절한 강도로 하고 있는지 체크해주는 기기가 있다면 운동의 효율을 높일 수 있을 것임

### 해결 방안
- 운동을 하면 심박수가 올라가고 휴식을 취할 시 심박수는 내려간다. 이를 통해 휴식과 심박수 사이의 연관성이 있다고 생각함
- 논문을 찾아본 결과 심박수 기준 휴식 시간과 고정 휴식 시간의 총 운동량 차이는 없었지만 휴식 시간은 심박수 기준이 더 적었다는 연구가 있음을 알게 됨
  - (심박수기준 세트간 휴식조건에 따른 벤치프레스 운동시 휴식시간, 반복횟수, 총운동량, 및 근통증에 미치는 영향, 정환종, 최종인, 김기홍,한국스포츠학회  한국스포츠학회지  제18권 제4호  2020.12 pp.997-1008) )





<br><br>

## 고려한 부분

- 요즘 미세먼지의 심각성
- 매장의 쾌적성 실시간 유지
- 매장에 키오스크의 필요성 ( 경제성 -> 요즘은 키오스크는 필수적 따라서 키오스크에 추가 기능 구현함)

<br><br>


## 설치 사진
<div align="center">
  
  | 실제 |
  |:---:|
  | <img src="https://github.com/user-attachments/assets/314c94d4-e6bc-4acf-934e-5a8bf56400b1" width="350px" height="470px" alt="실제"> |
</div>

<br><br>

## SmartAirKiosk 구동 영상

[SmartAirKiosk 구동 영상 보기](https://youtu.be/KF5rC-BnxO0)

<br><br>

## 디렉토리 형식

```
SmartAirKiosk/
├── APP/
│   ├── APP.jpg
│   ├── PMS_Alarm.jpg
│   │
├── GUI/
│   ├── gui.py
│   │
├── Sensor/
│   ├── RaspberryPi_3_PMS.py
│   ├── Temp_relay.cpp
│   ├── 초음파_PIR.cpp
│ 
├── Wiring/
│   ├── Wiring.jpg
│   │
├── modeling/
│   ├── SmartAir.png
│   ├── modeling.step

```

<br><br>

## 사용된 하드웨어 장비

| 장비명                | 사양                                                                                                                                                                                                                                                                                                                                                                     | 수량 | 비고                         |
|:------------------:|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:---:|:--------------------------:|
| Raspberry Pi 3B+   | Quad-core ARM® Cortex-A53 64-bit SoC @ 1.4GHz                                                                                                                                                                                                                                                                                                                                    | 3  |                            |
| HC-SR501  |                                                                                                                                                                                                                                                                                                                                                              | 1  | 인체 감지 센서       |
| HC-SR04        |                                                                                                                                                                                                                                                                                                                                                              | 1  |          초음파 센서                  |
| PMS7003            | 광산란 방식                                                                                                                                                                                                                                                                                                                                              | 1  | 미세먼지 센서                    |
| D06A0 쿨젠 써큘레이터              |                         5V, 0.5A                                                                     |  1  | 선풍기 |
| Arduino Relay Module            |                                                                                                                                                                                                                                                                                                                                                                     | 1  | 릴레이                     |
| 디스플레이 7인치                 |   5V  |  1  |                 터치용           |


<br><br>

## 시스템 아키텍처

![시스템 아키텍처](https://github.com/user-attachments/assets/4c321007-3b18-4ea9-813b-6ff5827f3be3)

<br><br>

## 배선도

<div align="center">

  | 센서 배선 | 
  |:---:|
  | <img src="https://github.com/user-attachments/assets/54dacca4-ecc6-4a91-9701-8f52dfa73992"  alt="센서 배선도"> |
</div>

<br><br>

## 앱 구현

### MIT Inventer
- Mobius에서 GET
![2](https://github.com/user-attachments/assets/222d7ba7-0c47-4178-98b9-6ba8fb2832dc)

- Mobius에서 POST
![3](https://github.com/user-attachments/assets/257c163b-d529-4cd9-8b1f-c43a9f388afe)




## 기능

### 카드등록 유무 확인 기능 
- RFID리더기에서 UID값을 읽어와 해당 UID값이 Mobius에 등록되어있는지 확인함
- 등록되어 있다면 카드잔액에서 결제금액을 차감함 (만약 돈이 없다면 돈이 없다고 텍스트를 띄워줌)
- UID 자체가 등록이 되어 있지 않다면 invalid card를 출력함 

### 키오스크 사람 인식
- PIR 과 초음파 센서를 같이 사용하여 사람 인식
- PIR의 성능에 오류가 있어 초음파를 사용함
- 사람이 떠나가는 시간까지 고려하여 5초의 딜레이 시간을 줌

### 선풍기 (가상에선 에어컨) 제어
- 주변 온도가 25도 이상이 되면 자동으로 선풍기를 킴
- 만약 온도가 25도 이하로 내려가면 선풍기를 끔

### 미세먼지 관리기능
- 에어코리아 API를 활용하여 외부 미세먼지 농도와 내부 미세먼지 농도를 비교
- 내부 미세먼지 농도가 외부보다 높을 경우만 창문을 열으라고 어플로 알림


